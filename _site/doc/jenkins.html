<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Mozwebqa : Jenkins</title>
        <meta name="description" content="Documentation for Mozwebqa Projects">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/mozwebqa-docs/css/syntax.css">
        <link rel="stylesheet" href="/mozwebqa-docs/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/mozwebqa-docs/">Mozwebqa</a>
    <small>Documentation for Mozwebqa Projects</small>
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="/mozwebqa-docs/">Home</a></li>
    
        
        

        
            
                <li class=nav-header>Documentation</li>
            
            <li data-order=""><a href="/mozwebqa-docs/doc/jenkins.html">Jenkins</a></li>
        
            
            <li data-order=""><a href="/mozwebqa-docs/doc/selenium-grid.html">Selenium Grid</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>Jenkins
        
    </h2>
</div>

<p>Our team manages two Jenkins CI servers. The first server is used for our Selenium tests and is located in MTV2.
The second one is used for running our B2G tests and it is located in SCL3.</p>

<h1 id="selenium-jenkins">Selenium Jenkins</h1>

<p>The Selenium Jenkins server url is <a href="http://selenium.qa.mtv2.mozilla.com">http://selenium.qa.mtv2.mozilla.com</a></p>

<h1 id="b2g-jenkins">B2G Jenkins</h1>

<p>The B2G Jenkins server url is <a href="http://jenkins1.qa.scl3.mozilla.com">http://jenkins1.qa.scl3.mozilla.com</a></p>

<h1 id="b2g-nodes">B2G Nodes</h1>

<p>The B2G Jenkins Server currently has 24 slave nodes connected to it.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">* B2G-0    | 10.252.73.77
* B2G-1    | 10.252.73.80
* B2G-2    | 10.252.73.79
* B2G-3    | 10.252.73.78
* B2G-4    | 10.252.73.81
* B2G-5    | 10.252.73.82
* B2G-6    | 10.252.73.83
* B2G-7    | 10.252.73.84
* B2G-8    | 10.252.73.88
* B2G-9    | 10.252.73.85
* B2G-10   | 10.246.26.36 (Offline node in London)
* B2G-11   | 10.252.73.86
* B2G-12   | 10.252.73.87
* B2G-13   | 10.252.73.90
* B2G-14   | 10.252.73.91
* B2G-15   | 10.252.73.93
* B2G-16   | 10.252.73.93
* B2G-17   | 10.252.73.94
* B2G-18   | 10.252.73.95
* B2G-19   | 10.252.73.96
* B2G-20   | 10.252.73.97
* B2G-21   | 10.252.73.98
* B2G-22   | 10.252.73.99
* B2G-23   | 10.252.73.100
* B2G-24   | 10.252.73.101
* B2G-25   | 10.252.73.102
</code></pre></div>
<p>All slave nodes are running Ubuntu Linux.</p>

<h2 id="setting-up-a-node">Setting  Up a Node</h2>

<p>First install Ubuntu and file a ServiceNow bug asking for a static IP address.</p>

<ul>
<li>Install the Android SDK</li>
<li>Install OpenSSH for SSH access</li>
<li>Install Git</li>
<li>Install an MTA so cron-logs can be mailed</li>
<li>Edit the  /etc/udev/rules.d/51-android.rules file to add the rules for devices that will be connected to the node</li>
<li>Make sure that the devices that will be connected to the node have been added and merged to the <a href="https://github.com/mozilla/webqa-credentials">https://github.com/mozilla/webqa-credentials</a> repository</li>
<li>Clone  <a href="https://github.com/mozilla/webqa-credentials">https://github.com/mozilla/webqa-credentials</a> to the home folder of the default user and setup a cronjob to  update the repo every 15 mins</li>
<li>Create the /var/jenkins/ folder and make sure it has the right permissions</li>
<li>Double check that everything is installed and working before bring up the node in Jenkins.</li>
</ul>

<h2 id="debugging-perf-tests">Debugging Perf Tests</h2>


                    </div>
                
            </div>

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://github.com/mozilla/mozwebqa-docs/">Mozwebqa</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
    </body>
</html>
